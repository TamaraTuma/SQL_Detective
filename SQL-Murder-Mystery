  SQL MURDER MYSTERY 

DONE BY: TAMARA GRAY 

 

Overview  

A crime has taken place and the detectives need my help. The detective gave me a crime scene report, but I somehow lost it. I vaguely remember the following facts about this mystery: 

The crime is a murder. 

The crime happened sometime on January 15, 2018. 

The crime took place in SQL City. 

 

The below diagram shows the Schema relationship: 

 

 

To get some more information, I decided to look at the crime scene report. Thus, I ran the below query: 

 

 

The crime scene report showed output for types of crimes, the date they were committed, the description and the city that they were committed in. However, seeing that I had information that the crime I am hoping to solve is a murder that happened in SQL City, I decided to run a query that would filter out the information that I knew. Therefore, I ran the following query: 

 

 

 

The output provided me with three (3) records that were murders which also happened in SQL City. The result is shown below:  

 

It is important to note that only one (1) of the record above happened on January 15, 2018. The description relayed that “Security footage shows that there were two witnesses. The first witness lives at the last house on “NorthWestern Dr”. The second witness, named, Annabel lived somewhere on “Franklin Ave”. So, I then decided that I should get more details from these two witnesses. I decided to get more details on the second witness first and the following code was used to get more information on her. 

 

 

 

The following detail was provided:  

 

 

I confidently knew that “Annabel Miller” was the second witness as she was the only one that lives on “Franklin Ave” based on the results of the query. The following query was then used to get Annabel’s witness statement. 

 

 

The witness statement for Annabel states: 

“I saw the murder happen, and I recognized the killer from my gym when I was working out last week on January the 9th”. 

 

 I then decided to get more details on the first witness. However, it was a little tricky for me as I did not have a name for the first witness. Based on the crime scene report, it stated that the first witness “lives at the LAST house on NorthWestern Dr” so I put on my thinking cap and said to myself “How can I get this person that lives at the last house on NorthWestern Dr?”.  I then realized that I could check what the highest address_number is. I then ran the following code and it returned the below output: 

 

 

I then used the address_number to get the full details of the first witness. The query code and output are shown below: 

 

 

The result showed that a “Morty Schapiro” lived at NorthWestern Dr.  I now used Morty’s id to get the details from the interview to confirm my suspicion that he is the first witness. The query and output are shown below:  

 

The witness statement for Morty states: 

“I heard a gunshot and then saw a man run out. He had a "Get Fit Now Gym" bag. The membership number on the bag started with "48Z". Only gold members have those bags. The man got into a car with a plate that included "H42W". 

 

I now believe that Morty is indeed the first witness as he mentioned the “Get Fit Now Gym” which I believe is the same gym that Annabel attends.   

 

With this information from the two (2) witnesses, I then decided to get information on who was at the “Get Fit Now Gym” on January 9th. See the code and result thereafter: 

 

 

 

 

Based on the result above, I realized that membership_id (48Z55) partially matches to the  

information that was given by the first witness – Morty Schapiro. Now I believe it’s time to get some details on this membership_id (48Z55).  I then ran a query to check the membership_id (48Z55) to get some more information on who this person could be and got the following result. 

 

 

 

I believe the person that committed the crime is “Jeremy Bowers” as his ID is (48Z55) and he has “gold” member status. Now I believe I need to find out whether Jeremy made any statement in the interview table. I will use the code as follows:  

 

 

 

The statement from Jeremy Borrows states: 

“I was hired by a woman with a lot of money. I don't know her name but I know she's around 5'5" (65") or 5'7" (67"). She has red hair and she drives a Tesla Model S. I know that she attended the SQL Symphony Concert 3 times in December 2017”. 

 

Wow. So, it appears that Jeremy Borrows is the murderer but there is a mastermind behind this murder…. Who could this woman be? To figure out who the mastermind could be, I decided to query the drivers_license table to see the persons that has ‘red’ hair and drive a Tesla. The below is the query and output: 

 

 

 

 

The output results show four (4) records. I then decided to check the license_id # of all three (3) females to get some more information from the person table, the result is below: 

 

 

 

 

 

Now that I have the person_id for the three (3) females that has “has red hair and she drives a Tesla Model S”, I will now use this information to check the facebook_event_checkin table to see which female went to the “SQL Symphony Concert 3 times”. The query and the result  

is shown below.  

 

 

 

 

 

 

Haha…. The Mastermind has been found. The person_id (99716) went to the SQL Symphony concert 3 times in December 2017 which matched to that of “Miranda Priestley”.  

 

Therefore, the Murderer is Jeremy Bowers and the Mastermind is “Miranda Priestley”.   

To confirm that my suspicions are correct, I inserted my answers into the solution table for both Jeremy and Miranda and got the following message below: 

 

For Jeremy Bowers: 

 

 

The message reads: “Congrats, you found the murderer! But wait, there's more... If you think you're up for a challenge, try querying the interview transcript of the murderer to find the real villain behind this crime. If you feel especially confident in your SQL skills, try to complete this final step with no more than 2 queries. Use this same INSERT statement with your new suspect to check your answer”. 

 

For Miranda Priestley:  

 

The message reads: Congrats, you found the brains behind the murder! Everyone in SQL City hails you as the greatest SQL detective of all time. Time to break out the champagne! 

 

 
